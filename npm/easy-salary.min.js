!function(a,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Salary=n():a.Salary=n()}(this,(function(){return function(a){var n={};function e(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return a[r].call(t.exports,t,t.exports,e),t.l=!0,t.exports}return e.m=a,e.c=n,e.d=function(a,n,r){e.o(a,n)||Object.defineProperty(a,n,{enumerable:!0,get:r})},e.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},e.t=function(a,n){if(1&n&&(a=e(a)),8&n)return a;if(4&n&&"object"==typeof a&&a&&a.__esModule)return a;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:a}),2&n&&"string"!=typeof a)for(var t in a)e.d(r,t,function(n){return a[n]}.bind(null,t));return r},e.n=function(a){var n=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(n,"a",n),n},e.o=function(a,n){return Object.prototype.hasOwnProperty.call(a,n)},e.p="",e(e.s=0)}([function(a,n,e){"use strict";function r(a){var n=a.insuranceAndFundBase,e=a.insuranceAndFundRate,r=a.housingFundRange,t={totalFund:0};for(var u in e){var d=u,s=n;"housingFund"!==d&&"supplementaryFund"!==d||(n<r.min?s=r.min:n>r.max&&(s=r.max));var i=e[d]*s;t[d]=i,t.totalFund+=i}return t.totalHousingFund=t.housingFund+t.supplementaryFund,t}function t(a,n){for(var e=0;e<n.length;e++){var r=n[e],t=r.value,u=r.rate,d=r.deduction;if(0===t||t>a)return{rate:u,deduction:d}}return{rate:0,deduction:0}}function u(a){return a.reduce((function(a,n){return a+n}),0)}function d(a){var n=a.accumulatedTaxableIncome,e=a.totalPersonalTncomeTax,r=function(a){return t(a,[{value:36e3,rate:.03,deduction:0},{value:144e3,rate:.1,deduction:2520},{value:3e5,rate:.2,deduction:16920},{value:42e4,rate:.25,deduction:31920},{value:66e4,rate:.3,deduction:52920},{value:96e4,rate:.35,deduction:85920},{value:0,rate:.45,deduction:181920}])}(n);return n*r.rate-r.deduction-0-e}function s(a){var n=a.salary,e=a.yearEndAwards,r=a.yearEndAwardsNumber,u=a.startingSalary,d=e||n*r,s=n>u?d:d-(u-n),i=t(s/12,[{value:3e3,rate:.03,deduction:0},{value:12e3,rate:.1,deduction:210},{value:25e3,rate:.2,deduction:1410},{value:35e3,rate:.25,deduction:2660},{value:55e3,rate:.3,deduction:4410},{value:8e4,rate:.35,deduction:7360},{value:0,rate:.45,deduction:15160}]),o=s*i.rate-i.deduction;return{awardsPreTax:d,awardsTax:o,awardsAfterTax:d-o}}function i(a){var n=a.salary,e=a.specialAdditionalDeduction,t=a.yearEndAwardsNumber,i=a.yearEndAwards,o=a.insuranceAndFundBase,l=a.startingSalary,c=a.insuranceAndFundRate,f=a.insuranceAndFundRateOfCompany,y=a.extraBonus,p=a.housingFundRange;y=function(a){if("number"==typeof a){var n=a;(a=new Array(12)).fill(n)}else for(var e=a.length;e<12;e++)a[e]=0;return a}(y);var A=function(a){var n=a.salary,e=a.insuranceAndFundBase,r=a.insuranceAndFundRate,t=a.insuranceAndFundRateOfCompany;e||(e=n);var u=Object.assign({},t);-1===u.housingFund&&(u.housingFund=r.housingFund);-1===u.supplementaryFund&&(u.supplementaryFund=r.supplementaryFund);return{insuranceAndFundBase:e,insuranceAndFundRateOfCompany:u}}({salary:n,insuranceAndFundBase:o,insuranceAndFundRate:c,insuranceAndFundRateOfCompany:f});o=A.insuranceAndFundBase,f=A.insuranceAndFundRateOfCompany;var x,m=s({salary:n,yearEndAwards:i,yearEndAwardsNumber:t,startingSalary:l}),F=m.awardsPreTax,v=m.awardsTax,T=m.awardsAfterTax,g=r({insuranceAndFundBase:o,insuranceAndFundRate:c,housingFundRange:p}),h=r({insuranceAndFundBase:o,insuranceAndFundRate:f,housingFundRange:p}),b=function(a){for(var n=a.salary,e=a.extraBonus,r=a.startingSalary,t=a.specialAdditionalDeduction,s=a.totalFund,i=a.awardsAfterTax,o=[],l=[],c=0,f=0,y=1;y<13;y++){var p=e[y-1]||0,A=d({accumulatedTaxableIncome:y*n+(f+=p)-0-r*y-s*y-t*y-0,totalPersonalTncomeTax:c}),x=n+p-s-A;o.push(x),l.push(A),c+=A}var m=u(o),F=u(l);return{salaryAfterTax:o,salaryTax:l,totalSalaryAfterTaxExcludeAwards:m,salaryTotalTax:F,totalSalaryAfterTax:m+i}}({salary:n,extraBonus:y,startingSalary:l,specialAdditionalDeduction:e,totalFund:g.totalFund,awardsAfterTax:T}),w=b.salaryAfterTax,R=b.salaryTax,S=b.totalSalaryAfterTaxExcludeAwards,O=b.salaryTotalTax,j=b.totalSalaryAfterTax;return{salaryBase:n,salaryPreTax:y.map((function(a){return a+n})),salaryAfterTax:w,salaryAfterTaxAvg:(x=w,u(x)/x.length),salaryTax:R,salaryTotalTax:O,totalSalaryAfterTaxExcludeAwards:S,totalSalaryPreTax:F+12*n+u(y),totalSalaryAfterTax:j,insuranceAndFund:g,insuranceAndFundOfCompany:h,awardsPreTax:F,awardsTax:v,awardsAfterTax:T}}e.r(n);var o=function(){function a(a){for(var n in void 0===a&&(a={}),this.salary=1e4,this.specialAdditionalDeduction=0,this.yearEndAwardsNumber=2,this.yearEndAwards=0,this.insuranceAndFundBase=0,this.startingSalary=5e3,this.insuranceAndFundRate={pension:.08,medicalInsurance:.02,unemploymentInsurance:.005,maternityInsurance:0,injuryInsurance:0,housingFund:.07,supplementaryFund:.05},this.insuranceAndFundRateOfCompany={pension:.21,medicalInsurance:.11,unemploymentInsurance:.015,maternityInsurance:.01,injuryInsurance:.01,housingFund:-1,supplementaryFund:-1},this.extraBonus=[],this.housingFundRange={min:2590,max:34188},a){var e=n;"object"==typeof a[e]?Object.assign(this[e],a[e]):void 0!==a[e]&&(this[e]=a[e])}}return a.prototype.calculate=function(){return this.salaryResult=i(this),this.salaryResult},a}();n.default=o}]).default}));