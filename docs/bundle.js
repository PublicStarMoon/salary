!function(e){var n={};function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(a,r,function(n){return e[n]}.bind(null,r));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function a(e){var n=e.insuranceAndFundBase,t=e.insuranceAndFundRate,a=e.housingFundRange,r={totalFund:0};for(var i in t){var u=i,s=n;"housingFund"!==u&&"supplementaryFund"!==u||(n<a.min?s=a.min:n>a.max&&(s=a.max));var o=t[u]*s;r[u]=o,r.totalFund+=o}return r.totalHousingFund=r.housingFund+r.supplementaryFund,r}function r(e,n){for(var t=0;t<n.length;t++){var a=n[t],r=a.value,i=a.rate,u=a.deduction;if(0===r||r>e)return{rate:i,deduction:u}}return{rate:0,deduction:0}}function i(e){return e.reduce((function(e,n){return e+n}),0)}function u(e){var n=e.accumulatedTaxableIncome,t=e.totalPersonalTncomeTax,a=function(e){return r(e,[{value:36e3,rate:.03,deduction:0},{value:144e3,rate:.1,deduction:2520},{value:3e5,rate:.2,deduction:16920},{value:42e4,rate:.25,deduction:31920},{value:66e4,rate:.3,deduction:52920},{value:96e4,rate:.35,deduction:85920},{value:0,rate:.45,deduction:181920}])}(n);return n*a.rate-a.deduction-0-t}function s(e){var n=e.salary,t=e.yearEndAwards,a=e.yearEndAwardsNumber,i=e.startingSalary,u=t||n*a,s=n>i?u:u-(i-n),o=r(s/12,[{value:3e3,rate:.03,deduction:0},{value:12e3,rate:.1,deduction:210},{value:25e3,rate:.2,deduction:1410},{value:35e3,rate:.25,deduction:2660},{value:55e3,rate:.3,deduction:4410},{value:8e4,rate:.35,deduction:7360},{value:0,rate:.45,deduction:15160}]),d=s*o.rate-o.deduction;return{awardsPreTax:u,awardsTax:d,awardsAfterTax:u-d}}function o(e){var n=e.salary,t=e.specialAdditionalDeduction,r=e.yearEndAwardsNumber,o=e.yearEndAwards,d=e.insuranceAndFundBase,l=e.startingSalary,c=e.insuranceAndFundRate,f=e.insuranceAndFundRateOfCompany,p=e.extraBonus,y=e.housingFundRange;p=function(e){if("number"==typeof e){var n=e;(e=new Array(12)).fill(n)}else for(var t=e.length;t<12;t++)e[t]=0;return e}(p);var x=function(e){var n=e.salary,t=e.insuranceAndFundBase,a=e.insuranceAndFundRate,r=e.insuranceAndFundRateOfCompany;t||(t=n);var i=Object.assign({},r);-1===i.housingFund&&(i.housingFund=a.housingFund);-1===i.supplementaryFund&&(i.supplementaryFund=a.supplementaryFund);return{insuranceAndFundBase:t,insuranceAndFundRateOfCompany:i}}({salary:n,insuranceAndFundBase:d,insuranceAndFundRate:c,insuranceAndFundRateOfCompany:f});d=x.insuranceAndFundBase,f=x.insuranceAndFundRateOfCompany;var m,h=s({salary:n,yearEndAwards:o,yearEndAwardsNumber:r,startingSalary:l}),b=h.awardsPreTax,v=h.awardsTax,A=h.awardsAfterTax,F=a({insuranceAndFundBase:d,insuranceAndFundRate:c,housingFundRange:y}),T=a({insuranceAndFundBase:d,insuranceAndFundRate:f,housingFundRange:y}),g=function(e){for(var n=e.salary,t=e.extraBonus,a=e.startingSalary,r=e.specialAdditionalDeduction,s=e.totalFund,o=e.awardsAfterTax,d=[],l=[],c=0,f=0,p=1;p<13;p++){var y=t[p-1]||0,x=u({accumulatedTaxableIncome:p*n+(f+=y)-0-a*p-s*p-r*p-0,totalPersonalTncomeTax:c}),m=n+y-s-x;d.push(m),l.push(x),c+=x}var h=i(d),b=i(l);return{salaryAfterTax:d,salaryTax:l,totalSalaryAfterTaxExcludeAwards:h,salaryTotalTax:b,totalSalaryAfterTax:h+o}}({salary:n,extraBonus:p,startingSalary:l,specialAdditionalDeduction:t,totalFund:F.totalFund,awardsAfterTax:A}),w=g.salaryAfterTax,I=g.salaryTax,_=g.totalSalaryAfterTaxExcludeAwards,R=g.salaryTotalTax,C=g.totalSalaryAfterTax;return{salaryBase:n,salaryPreTax:p.map((function(e){return e+n})),salaryAfterTax:w,salaryAfterTaxAvg:(m=w,i(m)/m.length),salaryTax:I,salaryTotalTax:R,totalSalaryAfterTaxExcludeAwards:_,totalSalaryPreTax:b+12*n+i(p),totalSalaryAfterTax:C,insuranceAndFund:F,insuranceAndFundOfCompany:T,awardsPreTax:b,awardsTax:v,awardsAfterTax:A}}t.r(n);var d,l=function(){function e(e){for(var n in void 0===e&&(e={}),this.salary=1e4,this.specialAdditionalDeduction=0,this.yearEndAwardsNumber=2,this.yearEndAwards=0,this.insuranceAndFundBase=0,this.startingSalary=5e3,this.insuranceAndFundRate={pension:.08,medicalInsurance:.02,unemploymentInsurance:.005,maternityInsurance:0,injuryInsurance:0,housingFund:.07,supplementaryFund:.05},this.insuranceAndFundRateOfCompany={pension:.21,medicalInsurance:.11,unemploymentInsurance:.015,maternityInsurance:.01,injuryInsurance:.01,housingFund:-1,supplementaryFund:-1},this.extraBonus=[],this.housingFundRange={min:2590,max:34188},e){var t=n;"object"==typeof e[t]?Object.assign(this[t],e[t]):void 0!==e[t]&&(this[t]=e[t])}}return e.prototype.calculate=function(){return this.salaryResult=o(this),this.salaryResult},e}();function c(e,n){void 0===n&&(n=2e3),d||((d=window.document.createElement("div")).setAttribute("style","\n        position: fixed;\n        left: 0;\n        top: 0;\n    "),window.document.body.appendChild(d));var t=window.document.createElement("span");t.setAttribute("style","background-color: rgba(0,0,0,.8);\n    padding: 3px 6px;\n    border-radius: 3px;\n    color: #fff;\n    left: 50%;\n    position: fixed;\n    top: 50%;\n    transform: translate(-50%, -50%);"),t.innerText=e,d.appendChild(t),window.setTimeout((function(){d.removeChild(t)}),n)}var f={salary:{nec:!0,base:!0,text:"月基础工资",unit:"元",info:"每月税前月薪金额"},yearEndAwardsNumber:{nec:!0,base:!0,text:"年终奖月数",unit:"个月",info:"年终奖发几个月的"},yearEndAwards:{base:!0,text:"年终奖总额",unit:"元",info:"年终奖总金额，如果填写该项，计算优先级会高于年终奖月数，当为0时则使用yearEndAwardsNumber计算"},specialAdditionalDeduction:{base:!0,text:"每月专项附加扣除",unit:"元",info:"详情请见个税APP或工资单流水中"},insuranceAndFundRate:{text:"五险一金个人缴纳部分",nec:!0,pension:{base:!0,text:"养老保险个人缴纳百分比",info:""},medicalInsurance:{base:!0,text:"医疗保险个人缴纳百分比",info:""},unemploymentInsurance:{base:!0,text:"失业保险个人缴纳百分比",info:"个人一般无需缴纳"},injuryInsurance:{base:!0,text:"工伤保险个人缴纳百分比",info:"个人一般无需缴纳"},maternityInsurance:{base:!0,text:"生育保险个人缴纳百分比",info:"个人一般无需缴纳"},housingFund:{nec:!0,base:!0,text:"住房公积金个人缴纳百分比",info:""},supplementaryFund:{nec:!0,base:!0,text:"补充住房公积金个人缴纳百分比",info:""}},insuranceAndFundBase:{base:!0,text:"五险一金计算基数",unit:"元",info:"五险一金的缴费基数以员工上年度平均工资",url:"https://zhidao.baidu.com/question/464011354624682485.html"},startingSalary:{base:!0,text:"个人所得税起征点",unit:"元",info:""},insuranceAndFundRateOfCompany:{text:"五险一金公司缴纳部分",pension:{base:!0,text:"养老保险公司缴纳百分比",info:""},medicalInsurance:{base:!0,text:"医疗保险公司缴纳百分比",info:""},unemploymentInsurance:{base:!0,text:"失业保险公司缴纳百分比",info:""},injuryInsurance:{base:!0,text:"工伤保险公司缴纳百分比",info:""},maternityInsurance:{base:!0,text:"生育保险公司缴纳百分比",info:""},housingFund:{base:!0,text:"住房公积金公司缴纳百分比",info:"当填-1时表示与个人缴纳部分一致"},supplementaryFund:{base:!0,text:"补充住房公积金公司缴纳百分比",info:"当填-1时表示与个人缴纳部分一致"}},extraBonus:{base:!0,text:"每月额外津贴奖金",unit:"元",info:"每个月额外奖金，如果需要分12个月单独填写，请使用空格分开"},housingFundRange:{text:"公积金上下限",min:{base:!0,text:"下限",unit:"元",info:"公积金计算的月薪下限",url:"http://news.sohu.com/a/564484736_121117448"},max:{base:!0,text:"上限",unit:"元",info:"公积金计算的月薪上限",url:"http://news.sohu.com/a/564484736_121117448"}}},p={totalSalaryPreTax:{base:!0,text:"年总税前收入",info:"一年总税前收入"},totalSalaryAfterTax:{base:!0,text:"年总税后收入",info:"一年总税后收入"},totalSalaryAfterTaxExcludeAwards:{base:!0,text:"年总税后收入(不含年终奖)",info:"年总税后收入(不含年终奖)"},salaryBase:{base:!0,text:"月基础工资",info:"月基础工资"},salaryPreTax:{base:!0,text:"每月税前收入",info:"12个月份税前月收入(含奖金津贴)"},salaryAfterTax:{base:!0,text:"每月税后收入",info:"12个月份税后收入"},salaryAfterTaxAvg:{base:!0,text:"每月平均税后输入",info:"12个月份平均税后收入"},salaryTax:{base:!0,text:"每月个人所得税",info:"12个月份个人所得税"},salaryTotalTax:{base:!0,text:"年总个人所得税",info:"一年个人所得税总额"},awardsPreTax:{base:!0,text:"年终奖税前金额",info:""},awardsTax:{base:!0,text:"年终奖个人所得税金额",info:""},awardsAfterTax:{base:!0,text:"年终奖税后金额",info:""},insuranceAndFund:{text:"五险一金个人缴纳部分",pension:{base:!0,text:"养老保险个人缴纳金额",info:""},medicalInsurance:{base:!0,text:"医疗保险个人缴纳金额",info:""},unemploymentInsurance:{base:!0,text:"失业保险个人缴纳金额",info:""},injuryInsurance:{base:!0,text:"工伤保险个人缴纳金额",info:""},maternityInsurance:{base:!0,text:"生育保险个人缴纳金额",info:""},housingFund:{base:!0,text:"住房公积金个人缴纳金额",info:""},supplementaryFund:{base:!0,text:"补充住房公积金个人缴纳金额",info:""},totalFund:{base:!0,text:"五险一金个人缴纳总金额",info:""},totalHousingFund:{base:!0,text:"住房公积金个人缴纳总金额",info:""}},insuranceAndFundOfCompany:{text:"五险一金公司缴纳部分",pension:{base:!0,text:"养老保险公司缴纳金额",info:""},medicalInsurance:{base:!0,text:"医疗保险公司缴纳金额",info:""},unemploymentInsurance:{base:!0,text:"失业保险公司缴纳金额",info:""},injuryInsurance:{base:!0,text:"工伤保险公司缴纳金额",info:""},maternityInsurance:{base:!0,text:"生育保险公司缴纳金额",info:""},housingFund:{base:!0,text:"住房公积金公司缴纳金额",info:""},supplementaryFund:{base:!0,text:"补充住房公积金公司缴纳金额",info:""},totalFund:{base:!0,text:"五险一金公司缴纳总金额",info:""},totalHousingFund:{base:!0,text:"住房公积金个人缴纳总金额",info:""}}};new(function(){function e(){this.emitResultList=[],this.necEls=[],this.salary=new l,this.inputArea=window.document.querySelector(".input-area"),this.resultArea=window.document.querySelector(".result-area"),this._initInputUI(),this._initResultUI(),this._calculate()}return e.prototype._calculate=function(){this.salary.calculate(),this.emitResultList.forEach((function(e){return e()}))},e.prototype._initInputUI=function(){var e=this,n=this._ce("div","input-more"),t=this._ce("span",""),a=this._ce("i","ei-tasks");n.appendChild(a),n.appendChild(t),t.innerText="展开更多信息",n.onclick=function(){t.innerText.includes("展开")?(t.innerText="收起更多信息",e.necEls.forEach((function(e){return e.classList.add("show")}))):(t.innerText="展开更多信息",e.necEls.forEach((function(e){return e.classList.remove("show")})))},this.inputArea.appendChild(n);var r=this._createFragmentCommon({map:f,isInput:!0});this.inputArea.appendChild(r)},e.prototype._initResultUI=function(){var e=this._createFragmentCommon({map:p,isInput:!1});this.resultArea.appendChild(e)},e.prototype._createWrapper=function(e,n){var t=this._ce("div","salary-wrapper"),a=this._ce("div","salary-wrapper-title");return this._checkNec(t,n,e.nec),a.innerText=e.text,t.appendChild(a),t},e.prototype._checkNec=function(e,n,t){void 0===t&&(t=!1),n&&!t&&(e.classList.add("salary-not-nec"),this.necEls.push(e))},e.prototype._createSingleItem=function(e){var n=this,t=e.key,a=e.item,r=e.subKey,i=e.isInput,u=void 0===i||i,s=this._ce("div","salary-item"),o=this._ce("span","salary-title");o.innerText=a.text,s.appendChild(o);var d=this.salary;if(u){this._checkNec(s,u,a.nec);var l=this._ce("input","salary-input"),f=d[t];if(l.value=r?f[r]:f,"extraBonus"!==t&&(l.type="number"),l.onchange=function(){var e,a=l.value;e="extraBonus"!==t?parseFloat(a):-1!==a.indexOf(" ")?a.split(" ").map((function(e){return parseFloat(e)})):parseFloat(a),r?d[t][r]=e:d[t]=e,n._calculate(),c("计算结果已更新")},s.appendChild(l),a.unit){var p=this._ce("span","salary-unit");p.innerText=a.unit,s.appendChild(p)}}else{var y=this._ce("span","salary-result");this.emitResultList.push((function(){var e=d.salaryResult,n=r?e[t][r]:e[t];"number"==typeof n?n=n.toFixed(2)+"元":n instanceof Array&&(n=n.map((function(e,n){return"["+(n+1)+"月:"+e.toFixed(2)+"元]"})).join(" ")),y.innerText=n})),s.appendChild(y)}if(a.info||a.url){var x=this._ce("i","ei-info-sign"),m=a.info||"查看详情";x.title=m,a.url?x.onclick=function(){window.open(a.url.substring(4))}:x.onclick=function(){c(m||"",5e3)},s.appendChild(x)}return s},e.prototype._createFragmentCommon=function(e){var n=e.map,t=e.isInput,a=void 0===t||t,r=window.document.createDocumentFragment();for(var i in n){var u=n[i],s=void 0;if(u.base)s=this._createSingleItem({key:i,item:u,isInput:a});else for(var o in s=this._createWrapper(u,a),u){var d=u[o];"text"!==o&&"nec"!==o&&s.appendChild(this._createSingleItem({key:i,subKey:o,item:d,isInput:a}))}r.appendChild(s)}return r},e.prototype._ce=function(e,n){void 0===n&&(n="");var t=window.document.createElement(e);return n&&(t.className=n),t},e}())}]);